<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1>댓글 창임</h1>
<div th:fragment="boardReply">
    <!--   댓글 자리-->
    <div>

        <div th:each="boardDto, status: ${boardDto}" >
            <h1>댓글 <span th:text="${boardDto.replyNum != null} ? ${'('+boardDto.replyNum+')'} : '(0)'"></span></h1>
            <div th:each="replyList, status: ${replyList}">


                <div id="reply-user" th:text="${replyList.user != null} ? ${replyList.user.userNickname} : 'No User'"></div>
                <div id="reply-date" th:text="${replyList.replyDate != null} ? ${replyList.replyDate} : 'No Date'"></div>
                <div id="reply-write" th:text="${replyList.replyContent != null} ? ${' : ' + replyList.replyContent} : ': No reply'"></div>
                <form th:action="'/reply/delete/' + ${replyList.replyIndex}" method="get">
                    <button class="btn">삭제</button>
                </form>
            </div>

            <br>
            <h2>댓글 쓰기</h2>

            <form th:action="${boardDto.boardIndex}" method="post" th:object="${replyFormDto}">
                <textarea name="replyContent" id="reply-input" cols="50" rows="1" placeholder="댓글 내용 입력하쇼" th:field="*{replyContent}"></textarea>
                <button class="btn" type="submit">댓글등록</button>
                <input type="hidden" th:name="${_csrf.parameterName}"
                       th:value="${_csrf.token}">
                <input type="hidden" name="author" value="${authentication.name}">

            </form>
        </div>
    </div>
</div>

</body>
</html>